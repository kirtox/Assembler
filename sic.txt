LOOP:    IN          X
         IN          Y
         LOAD        X
         COMPARE     Y
         JUMPGT      DONE
         OUT         X
         JUMP        LOOP
DONE:    OUT         Y
         HALT
X:       .DATA       0
Y:       .DATA       0
ENGTH	RESW	1
BUFFER	RESB	4096
.
.	COMMENT
.
RDREC	LDX	ZERO
	LDA	ZERO
RLOOP	TD	INPUT
	JEQ	RLOOP
	RD	INPUT
	COMP	ZERO
	JEQ	EXIT
	STCH	BUFFER,X
	TIX	MAXLEN
	JLT	RLOOP
EXIT	STX	LENGTH
	RSUB
INPUT	BYTE	X'F1'
MAXLEN	WORD	4096
.
.	COMMENT
.
WRREC	LDX	ZERO
WLOOP	TD	OUTPUT
	JEQ	WLOOP
	LDCH	BUFFER,X
	WD	OUTPUT
	TIX	LENGTH
	JLT	WLOOP
	RSUB
OUTPUT	BYTE	X'05'
	END	FIRST
